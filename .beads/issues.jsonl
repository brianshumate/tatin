{"id":"tatin-6oh","title":"Fix typo: 'Tartin' should be 'Tatin' in PROJECT.md","description":"PROJECT.md line 5 says 'Tartin combines Tart...' but should say 'Tatin combines Tart...'. Simple typo fix.","status":"closed","priority":3,"issue_type":"bug","owner":"brian@brianshumate.com","created_at":"2026-01-21T08:03:28.505886-05:00","created_by":"Brian Shumate","updated_at":"2026-01-21T08:07:01.42387-05:00","closed_at":"2026-01-21T08:07:01.42387-05:00","close_reason":"Fixed typo on line 5: Tartin -\u003e Tatin"}
{"id":"tatin-7s5","title":"Add Packer image build documentation to README","description":"README lacks instructions for building the Tatin base image with Packer. Users need to know: (1) Packer prerequisites. (2) How to run packer init and packer build. (3) That the Vagrantfile expects a pre-built 'tatin' image to exist. (4) Build time expectations.","status":"closed","priority":1,"issue_type":"task","owner":"brian@brianshumate.com","created_at":"2026-01-21T08:03:28.783697-05:00","created_by":"Brian Shumate","updated_at":"2026-01-21T08:08:37.765076-05:00","closed_at":"2026-01-21T08:08:37.765076-05:00","close_reason":"Added Packer prerequisite, 'Building the Base Image' section with init/validate/build commands, and updated Quick Start to include image build step","dependencies":[{"issue_id":"tatin-7s5","depends_on_id":"tatin-pg8","type":"blocks","created_at":"2026-01-21T08:04:09.378317-05:00","created_by":"Brian Shumate"}]}
{"id":"tatin-8ac","title":"Troubleshoot vagrant up / tart VM not starting","description":"vagrant up command is failing and the tart VM for tatin is not starting. Troubleshooting steps:\n1. Check tart installation: tart --version\n2. Check vagrant-tart plugin: vagrant plugin list\n3. Check if base VM image exists: tart list\n4. Review vagrant up output for specific errors\n5. Check Vagrantfile configuration\n6. Verify tart permissions and virtualization support","status":"closed","priority":1,"issue_type":"bug","owner":"brian@brianshumate.com","created_at":"2026-01-21T09:44:39.762376-05:00","created_by":"Brian Shumate","updated_at":"2026-01-21T10:00:01.425839-05:00","closed_at":"2026-01-21T10:00:01.425839-05:00","close_reason":"Fixed naming conflict: changed tart.name from 'tatin' to 'tatin-sandbox' to avoid collision with the source image"}
{"id":"tatin-nyd","title":"Tatin: LLM Agent Sandbox Implementation","description":"Complete implementation of Tatin - an isolated sandbox for LLM agent workflows using Tart virtualization with Vagrant. Provides a full Debian 13 development environment with sudo access, development tools, and AI agent tools.","status":"closed","priority":1,"issue_type":"epic","owner":"brian@brianshumate.com","created_at":"2026-01-20T19:28:39.509459-05:00","created_by":"Brian Shumate","updated_at":"2026-01-20T19:34:02.525842-05:00","closed_at":"2026-01-20T19:34:02.525842-05:00","close_reason":"Closed"}
{"id":"tatin-nyd.1","title":"Create Vagrantfile with Tart provider configuration","description":"Create the main Vagrantfile using vagrant-tart plugin to provision a Debian 13 VM. Configure VM settings, networking, and synced folders.","acceptance_criteria":"- Vagrantfile exists and is valid Ruby syntax\n- Uses vagrant-tart provider\n- Configures Debian 13 base image\n- Sets appropriate VM resources (CPU, memory)\n- vagrant validate passes","notes":"Starting implementation","status":"closed","priority":1,"issue_type":"task","owner":"brian@brianshumate.com","created_at":"2026-01-20T19:28:50.212736-05:00","created_by":"Brian Shumate","updated_at":"2026-01-20T19:31:56.25921-05:00","closed_at":"2026-01-20T19:31:56.25921-05:00","close_reason":"Closed","dependencies":[{"issue_id":"tatin-nyd.1","depends_on_id":"tatin-nyd","type":"parent-child","created_at":"2026-01-20T19:28:50.214182-05:00","created_by":"Brian Shumate"}]}
{"id":"tatin-nyd.2","title":"Provision development tools","description":"Install core development tools in the VM: build-essential, git, jq, bun, python3, golang, tmux, zsh","acceptance_criteria":"- All tools installed and accessible in PATH\n- build-essential provides gcc, make, etc.\n- git configured and working\n- bun runtime installed\n- python3 with pip\n- go toolchain installed\n- tmux and zsh available","status":"closed","priority":1,"issue_type":"task","owner":"brian@brianshumate.com","created_at":"2026-01-20T19:28:58.833467-05:00","created_by":"Brian Shumate","updated_at":"2026-01-20T19:31:56.261478-05:00","closed_at":"2026-01-20T19:31:56.261478-05:00","close_reason":"Closed","dependencies":[{"issue_id":"tatin-nyd.2","depends_on_id":"tatin-nyd","type":"parent-child","created_at":"2026-01-20T19:28:58.834612-05:00","created_by":"Brian Shumate"},{"issue_id":"tatin-nyd.2","depends_on_id":"tatin-nyd.1","type":"blocks","created_at":"2026-01-20T19:28:58.835701-05:00","created_by":"Brian Shumate"}]}
{"id":"tatin-nyd.3","title":"Install AI agent tools","description":"Install AI agent tools: Claude Code, Crush, and OpenCode. Configure them to be ready for use.","acceptance_criteria":"- Claude Code installed and in PATH\n- Crush installed and in PATH\n- OpenCode installed and in PATH\n- All tools can be invoked successfully","status":"closed","priority":1,"issue_type":"task","owner":"brian@brianshumate.com","created_at":"2026-01-20T19:29:05.459807-05:00","created_by":"Brian Shumate","updated_at":"2026-01-20T19:31:56.267895-05:00","closed_at":"2026-01-20T19:31:56.267895-05:00","close_reason":"Closed","dependencies":[{"issue_id":"tatin-nyd.3","depends_on_id":"tatin-nyd","type":"parent-child","created_at":"2026-01-20T19:29:05.461178-05:00","created_by":"Brian Shumate"},{"issue_id":"tatin-nyd.3","depends_on_id":"tatin-nyd.2","type":"blocks","created_at":"2026-01-20T19:29:05.462388-05:00","created_by":"Brian Shumate"}]}
{"id":"tatin-nyd.4","title":"Create tatin.sh lifecycle management script","description":"Create a Bash script to manage VM lifecycle with nice UX: spinner during operations, quiet output, log redirection. Commands: up, down, delete, status","acceptance_criteria":"- Script at scripts/tatin.sh\n- tatin up starts VM with spinner\n- tatin down stops VM\n- tatin delete destroys VM\n- tatin status shows VM state\n- Output is clean, logs go to file\n- Script is executable","notes":"Starting implementation","status":"closed","priority":2,"issue_type":"task","owner":"brian@brianshumate.com","created_at":"2026-01-20T19:29:21.203082-05:00","created_by":"Brian Shumate","updated_at":"2026-01-20T19:32:49.947655-05:00","closed_at":"2026-01-20T19:32:49.947655-05:00","close_reason":"Closed","dependencies":[{"issue_id":"tatin-nyd.4","depends_on_id":"tatin-nyd","type":"parent-child","created_at":"2026-01-20T19:29:21.204222-05:00","created_by":"Brian Shumate"},{"issue_id":"tatin-nyd.4","depends_on_id":"tatin-nyd.1","type":"blocks","created_at":"2026-01-20T19:29:21.205371-05:00","created_by":"Brian Shumate"}]}
{"id":"tatin-nyd.5","title":"Document project in README.md","description":"Write comprehensive README.md with installation instructions, usage guide, and architecture overview.","acceptance_criteria":"- Clear project description\n- Prerequisites listed\n- Installation steps documented\n- Usage examples provided\n- Architecture explained","status":"closed","priority":2,"issue_type":"task","owner":"brian@brianshumate.com","created_at":"2026-01-20T19:29:27.860024-05:00","created_by":"Brian Shumate","updated_at":"2026-01-20T19:33:29.126776-05:00","closed_at":"2026-01-20T19:33:29.126776-05:00","close_reason":"Closed","dependencies":[{"issue_id":"tatin-nyd.5","depends_on_id":"tatin-nyd","type":"parent-child","created_at":"2026-01-20T19:29:27.861455-05:00","created_by":"Brian Shumate"},{"issue_id":"tatin-nyd.5","depends_on_id":"tatin-nyd.1","type":"blocks","created_at":"2026-01-20T19:29:27.862583-05:00","created_by":"Brian Shumate"},{"issue_id":"tatin-nyd.5","depends_on_id":"tatin-nyd.4","type":"blocks","created_at":"2026-01-20T19:29:27.863578-05:00","created_by":"Brian Shumate"}]}
{"id":"tatin-p6y","title":"Design Packer template for Tatin Tart image","description":"Create a Packer template that builds a Tart VM image equivalent to the Vagrant-provisioned Tatin sandbox. This enables:\n\n1. Faster VM startup (pre-built image vs runtime provisioning)\n2. Reproducible builds with version pinning\n3. Image distribution via container registry (ghcr.io)\n4. CI/CD integration for automated image builds\n\nThe Packer template should replicate all provisioning from the Vagrantfile:\n- Base: ghcr.io/cirruslabs/debian:latest\n- Specs: 4 CPU, 8GB RAM, 20GB disk\n- Tools: build-essential, git, jq, tmux, zsh, vim, htop, tree\n- Runtimes: Python 3, Go 1.23.5, Bun, Node.js LTS\n- Agent tools: Claude Code, OpenCode, Crush","design":"## Packer Template Design\n\n### File Structure\n```\npacker/\n├── tatin.pkr.hcl          # Main Packer template\n├── variables.pkr.hcl      # Variable definitions\n└── scripts/\n    ├── base-system.sh     # Core packages\n    ├── python.sh          # Python 3 setup\n    ├── golang.sh          # Go 1.23.5 setup\n    ├── bun.sh             # Bun runtime\n    ├── nodejs.sh          # Node.js LTS\n    ├── claude-code.sh     # Claude Code CLI\n    ├── opencode.sh        # OpenCode CLI\n    ├── crush.sh           # Crush agent\n    └── finalize.sh        # Final cleanup\n```\n\n### Packer Template (tatin.pkr.hcl)\n```hcl\npacker {\n  required_plugins {\n    tart = {\n      version = \"\u003e= 1.12.0\"\n      source  = \"github.com/cirruslabs/tart\"\n    }\n  }\n}\n\nsource \"tart-cli\" \"tatin\" {\n  from_oci       = \"ghcr.io/cirruslabs/debian:latest\"\n  vm_name        = \"tatin\"\n  cpu_count      = 4\n  memory_gb      = 8\n  disk_size_gb   = 20\n  ssh_username   = \"admin\"\n  ssh_password   = \"admin\"\n  ssh_timeout    = \"120s\"\n}\n\nbuild {\n  sources = [\"source.tart-cli.tatin\"]\n\n  # Base system\n  provisioner \"shell\" {\n    script = \"scripts/base-system.sh\"\n    environment_vars = [\"DEBIAN_FRONTEND=noninteractive\"]\n  }\n\n  # Language runtimes (sequential - some depend on others)\n  provisioner \"shell\" {\n    script = \"scripts/python.sh\"\n    environment_vars = [\"DEBIAN_FRONTEND=noninteractive\"]\n  }\n\n  provisioner \"shell\" {\n    script = \"scripts/golang.sh\"\n  }\n\n  provisioner \"shell\" {\n    script = \"scripts/nodejs.sh\"\n    environment_vars = [\"DEBIAN_FRONTEND=noninteractive\"]\n  }\n\n  provisioner \"shell\" {\n    script = \"scripts/bun.sh\"\n    execute_command = \"chmod +x {{ .Path }}; {{ .Vars }} sudo -E -u admin bash '{{ .Path }}'\"\n    environment_vars = [\"DEBIAN_FRONTEND=noninteractive\"]\n  }\n\n  # Agent tools (unprivileged)\n  provisioner \"shell\" {\n    script = \"scripts/claude-code.sh\"\n    execute_command = \"chmod +x {{ .Path }}; {{ .Vars }} sudo -E -u admin bash '{{ .Path }}'\"\n    environment_vars = [\"DEBIAN_FRONTEND=noninteractive\"]\n  }\n\n  provisioner \"shell\" {\n    script = \"scripts/opencode.sh\"\n    execute_command = \"chmod +x {{ .Path }}; {{ .Vars }} sudo -E -u admin bash '{{ .Path }}'\"\n    environment_vars = [\"DEBIAN_FRONTEND=noninteractive\"]\n  }\n\n  provisioner \"shell\" {\n    script = \"scripts/crush.sh\"\n    execute_command = \"chmod +x {{ .Path }}; {{ .Vars }} sudo -E -u admin bash '{{ .Path }}'\"\n    environment_vars = [\"DEBIAN_FRONTEND=noninteractive\"]\n  }\n\n  # Cleanup and finalize\n  provisioner \"shell\" {\n    script = \"scripts/finalize.sh\"\n  }\n\n  post-processor \"manifest\" {\n    output = \"manifest.json\"\n  }\n}\n```\n\n### Key Design Decisions\n\n1. **Tart Plugin**: Use cirruslabs/tart plugin v1.12+ for native Tart integration\n2. **OCI Base Image**: Pull from ghcr.io/cirruslabs/debian:latest (same as Vagrantfile)\n3. **Modular Scripts**: Each provisioner as separate .sh file for maintainability\n4. **Privilege Handling**: Root for system packages, admin user for user-space tools\n5. **SSH Auth**: Use existing admin/admin credentials from base image\n\n### Variables (variables.pkr.hcl)\n```hcl\nvariable \"go_version\" {\n  type    = string\n  default = \"1.23.5\"\n}\n\nvariable \"vm_name\" {\n  type    = string\n  default = \"tatin\"\n}\n\nvariable \"cpu_count\" {\n  type    = number\n  default = 4\n}\n\nvariable \"memory_gb\" {\n  type    = number\n  default = 8\n}\n\nvariable \"disk_size_gb\" {\n  type    = number\n  default = 20\n}\n```\n\n### Build Commands\n```bash\n# Initialize plugins\npacker init packer/\n\n# Validate template\npacker validate packer/\n\n# Build image\npacker build packer/\n\n# Build with custom variables\npacker build -var 'vm_name=tatin-dev' -var 'cpu_count=8' packer/\n```\n\n### Registry Publishing (optional)\n```bash\n# Push to ghcr.io\ntart push tatin ghcr.io/$ORG/tatin:latest\n\n# Use in Vagrant\ntart.image = \"ghcr.io/$ORG/tatin:latest\"\n```","acceptance_criteria":"- [ ] Packer template builds successfully with `packer build`\n- [ ] Resulting Tart image boots and SSH works with admin/admin\n- [ ] All base system tools present: build-essential, git, jq, tmux, zsh, vim, htop, tree\n- [ ] Python 3 installed and accessible\n- [ ] Go 1.23.5 installed with proper PATH setup\n- [ ] Bun runtime installed for admin user\n- [ ] Node.js LTS installed\n- [ ] Claude Code CLI installed and functional\n- [ ] OpenCode CLI installed and functional\n- [ ] Crush agent installed and functional\n- [ ] Image can be used as vagrant-tart base box\n- [ ] Build is reproducible (same inputs produce equivalent output)\n- [ ] Template validates with `packer validate`","notes":"## Implementation Complete\n\nCreated packer/ directory with:\n- tatin.pkr.hcl - Main Packer template using cirruslabs/tart plugin\n- variables.pkr.hcl - Configurable variables for customization\n- scripts/*.sh - 9 modular provisioning scripts\n\n### Validation Note\nFull validation requires macOS host with:\n- Packer installed (`brew install packer`)\n- Tart installed (`brew install cirruslabs/cli/tart`)\n- Run `packer init packer/` then `packer validate packer/`\n\n### Build Command\n```bash\ncd /path/to/tatin\npacker init packer/\npacker build packer/\n```\n\n### Files Created\n```\npacker/\n├── tatin.pkr.hcl\n├── variables.pkr.hcl\n└── scripts/\n    ├── base-system.sh\n    ├── python.sh\n    ├── golang.sh\n    ├── nodejs.sh\n    ├── bun.sh\n    ├── claude-code.sh\n    ├── opencode.sh\n    ├── crush.sh\n    └── finalize.sh\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-21T01:37:51.382581319Z","created_by":"admin","updated_at":"2026-01-21T01:43:20.055399829Z","closed_at":"2026-01-21T01:43:20.055399829Z","close_reason":"Implemented Packer template with all provisioning scripts matching Vagrantfile configuration"}
{"id":"tatin-pg8","title":"Commit packer/ directory to version control","description":"The packer/ directory with tatin.pkr.hcl, variables.pkr.hcl, and all provisioning scripts is currently untracked in git. These files are essential for building the base image and should be version controlled.","status":"closed","priority":1,"issue_type":"task","owner":"brian@brianshumate.com","created_at":"2026-01-21T08:03:28.915998-05:00","created_by":"Brian Shumate","updated_at":"2026-01-21T08:07:29.495193-05:00","closed_at":"2026-01-21T08:07:29.495193-05:00","close_reason":"Added packer/ directory to git staging"}
{"id":"tatin-u80","title":"README.md outdated after Packer transition","description":"README.md has multiple outdated sections after the transition to Packer pre-built images: (1) Says disk is 50GB but Vagrantfile now specifies 20GB. (2) Describes provisioning stages in Vagrantfile but provisioning is now done by Packer. (3) Says root folder synced to /vagrant but this is now disabled. (4) Architecture section missing packer/ directory. (5) Synced Folders documentation is incorrect.","status":"closed","priority":1,"issue_type":"bug","owner":"brian@brianshumate.com","created_at":"2026-01-21T08:03:28.648685-05:00","created_by":"Brian Shumate","updated_at":"2026-01-21T08:08:12.344952-05:00","closed_at":"2026-01-21T08:08:12.344952-05:00","close_reason":"Updated README.md: fixed disk size (50-\u003e20GB), updated architecture section with packer/, clarified provisioning is done by Packer, fixed synced folders documentation"}
{"id":"tatin-v7z","title":"Add checksum verification for agent tool installations","description":"Agent tool installations in packer/scripts/ use curl-pipe-bash patterns without checksum verification: claude-code.sh, opencode.sh, crush.sh. While acceptable for local sandbox development, adding checksum verification would improve security posture.","status":"closed","priority":3,"issue_type":"feature","owner":"brian@brianshumate.com","created_at":"2026-01-21T08:03:29.05224-05:00","created_by":"Brian Shumate","updated_at":"2026-01-21T08:09:20.26844-05:00","closed_at":"2026-01-21T08:09:20.26844-05:00","close_reason":"Added verification to agent tool installers: claude-code.sh and opencode.sh now download scripts to temp files first, validate non-empty, and log SHA256 hashes for audit. crush.sh documents npm registry integrity verification."}
